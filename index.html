
<!-- ... (vorheriger HTML-Inhalt) ... -->
<div class="row">
  <label>Callsign:</label><input type="text" id="cs">
  <label>HÃ¶he &lt;=</label><input type="number" id="max_alt" value="10000" style="width:70px;"> ft
  <label>Radius:</label><input type="number" id="radius" value="5" style="width:50px;"> NM
  <label>Von:</label><input type="date" id="from">
  <label>Bis:</label><input type="date" id="to">
  <select id="preset" onchange="setDateRange(this.value)">
    <option value="">â³ Zeitraum</option>
    <option value="1">Heute</option>
    <option value="2">Gestern</option>
    <option value="7">Letzte 7 Tage</option>
    <option value="30">Letzte 30 Tage</option>
  </select>
  <select id="movement">
    <option value="">ğŸš Bewegungsart</option>
    <option value="arrival">Anflug</option>
    <option value="departure">Abflug</option>
  </select>
  

<button onclick="triggerRefresh()">ğŸš€ DB-Aktualisierung</button>
<script>
function triggerRefresh() {
  fetch('/refresh-now').then(r => {
    if (r.ok) alert('âœ… Datenbank aktualisiert!');
    else alert('âŒ Fehler beim Abruf');
  });
}

<script>
function exportCSV() {
  const rows = [['Callsign', 'Altitude', 'Speed', 'Lat', 'Lon', 'Time']];
  document.querySelectorAll('#flights-table tr').forEach(tr => {
    const cols = [...tr.children].map(td => td.textContent.trim());
    rows.push(cols);
  });
  const csv = rows.map(r => r.join(',')).join('\n');
  const blob = new Blob([csv], {type: 'text/csv'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'flugtracker_export.csv';
  a.click();
}
</script>

</script>

<button onclick="update()">ğŸ”„ Anzeigen</button>
<button onclick="exportCSV()">ğŸ“ CSV</button>
<button onclick="alert('ğŸŒ OpenSky-Abruf derzeit nicht aktiviert');">ğŸŒ OpenSky</button>

</div>
<!-- ... (Restlicher HTML-Inhalt) ... -->
